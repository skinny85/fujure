This module contains a parser (complete with a lexer)
autogenerated from the [Fujure.cf](Fujure.cf) file using the
[BNFC](http://bnfc.digitalgrammars.com/) tool.
The actual parsing algorithm is implemented by delegating to
[ANTLR](http://www.antlr.org/).

Since this is generated code, don't edit it by hand.
To regenerate these files after a change to `Fujure.cf`,
follow this procedure (while in the same directory this `Readme` is in):

1. Remove the old generated files:

        rm -fvr src/main/java/*

2. Invoke BNFC:

        bnfc --java --antlr4 -m -o src/main/java -p org.fujure.fbc.parser.bnfc.antlr Fujure.cf

3. There is a bug in BNFC that makes it fail for Char-based productions.

    To fix it, you need to edit the `src/main/java/org/fujure/fbc/parser/bnfc/antlr/Fujure/FujureLexer.g4` file,
    line 20, to change the incorrect escape sequence.
    So, from this:
    
        JCHAR : '\''~['\'']*'\'';
    
    to:
    
        JCHAR : '\''~[']*'\'';

4. Invoke the auto-generated `Makefile`:

        CLASSPATH=`pwd`/lib/* make -C src/main/java

5. (Optional) Invoke the `clean` target from the generated `Makefile`
    (it only removes the compiled `.class` files, nothing more):

        make clean -C src/main/java

After `make` succeeds, Gradle should take over compiling the generated files.
After your change, try to build the project with Gradle;
if it succeeds, commit the changed/added files in `src/main/java`.

#### Installing BNFC

BNFC is actually quite tricky to install, as it's a Haskell project.
The simplest way seems to be compiling it from source -
try the instructions [here](https://github.com/BNFC/bnfc#requirements).
After the build succeeds, the executable will be somewhere inside the `source` directory -
for me, it was `<git_repo_root>/source/dist/build/bnfc/bnfc`.
